{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Optimum-Staking-main\\\\Optimum-Staking-main\\\\frontend\\\\src\\\\pages\\\\Home_Logged.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport ServicesHero from '../components/heroes/ServicesHero';\nimport depositFunc from '../api/deposit';\nimport chairImg from '../assets/images/indivual/chair.jpg';\nimport mobBg from '../assets/images/indivual/mobBg.jpg';\nimport dottedBorder from \"../assets/images/sevices/dottedBorder.svg\";\nimport { connect } from 'react-redux';\nimport { changeWallet, updateAddress, updateAccountStore } from '../redux/wallet/actions';\nimport { Button, CircularProgress, Dialog } from '@mui/material';\nimport WithDraw from '../components/modal/WithDraw';\nimport { ButtonTypes, GlobalStateKeys, ImageSrc, Routes, Color } from '../constants/constants';\nimport { useNavigate } from 'react-router-dom';\nimport { convertDateToSeconds } from '../constants/date';\nimport LotteryTable from '../components/LotteryTable';\nimport { getRewardAmt } from '../utils/dispense_lottery';\nimport { readAppGlobalState, localOPTBalances, getAssetHolding, OptAppID, OptAsaID } from '../utils/common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home_Logged = props => {\n  _s();\n  const [showFormModal, setShowFormModal] = useState(false);\n  const [formType, setFormType] = useState('');\n  const [isAdminLogged, setAdminLog] = useState(props.is_admin_logged);\n  const navigate = useNavigate();\n  const [isDepositValid, setDepositValid] = useState(true);\n  const [isLotteryModalActive, setLotterModal] = useState(false);\n  const [lotteryAmt, setLotteryAmt] = useState(0);\n  const [totalDistributedOPT, setTotalDistributedOPT] = useState(undefined);\n  const [lotteryloader, setLotteryLoader] = useState(false);\n  const [optLoader, setOPTLoader] = useState(false);\n  const [opLoader, setOPLoader] = useState(false);\n  const [optAmount, setOPTAmount] = useState(0);\n  const [OdssOfWinning, setOddsOfWinning] = useState(0);\n  const [userASAHolding, setUserASAHolding] = useState(0);\n  useEffect(() => {\n    setAdminLog(props.is_admin_logged);\n    checkDepositValid();\n    if (props.account_store.length !== 0) {\n      AccountOPT();\n    }\n  }, [props.address, props.is_admin_logged, props.selected_network]);\n  const [timeRemaining, setTimeRemaining] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  });\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      const currentDate = new Date();\n      const targetDate = new Date();\n      targetDate.setDate(targetDate.getDate() + (7 - targetDate.getDay()));\n      targetDate.setHours(22, 0, 0, 0);\n      if (currentDate > targetDate) {\n        targetDate.setDate(targetDate.getDate() + 7);\n      }\n      const diff = targetDate - currentDate;\n      const d = Math.floor(diff / 1000 / 60 / 60 / 24);\n      const h = Math.floor(diff / 1000 / 60 / 60) % 24;\n      const m = Math.floor(diff / 1000 / 60) % 60;\n      const s = Math.floor(diff / 1000) % 60;\n      setTimeRemaining({\n        days: d,\n        hours: h,\n        minutes: m,\n        seconds: s\n      });\n    }, 1000);\n    return () => clearInterval(intervalId);\n  }, []);\n  useEffect(() => {\n    getOPTBalanceOfUser();\n  }, []);\n  useEffect(() => {\n    if (props.selected_network) {\n      getOPTBalanceOfUser();\n      getWeeklyLotteryAmt();\n    }\n  }, [props.success, props.selected_network]); // update if OPT/algo is withrawn/deposited\n\n  const openForm = type => {\n    if (props.address) {\n      setShowFormModal(true);\n      setFormType(type);\n    } else props.setShowWalletModal(true);\n  };\n  // note: this doesn't track the \"reward opt\" distributed to users\n  async function AccountOPT() {\n    // setOPLoader(true);\n\n    setOPTAmount(props.account_store[0].amount);\n    setOPLoader(true);\n  }\n  async function getOPTBalanceOfUser() {\n    const balance = await getAssetHolding(props.address, OptAsaID(props.selected_network), props.selected_network);\n    const amt = (balance === null || balance === void 0 ? void 0 : balance.amount) / 1e6;\n    if (isNaN(amt)) {\n      setUserASAHolding(0);\n    } else setUserASAHolding(amt !== null && amt !== void 0 ? amt : 0);\n    fetchTotalDistributedOPT();\n  }\n  async function fetchTotalDistributedOPT() {\n    setOPTLoader(true);\n    const localOptBalances = await localOPTBalances(props.selected_network);\n    let totalOPT = 0.0;\n    for (const v of Object.values(localOptBalances)) {\n      totalOPT += v;\n    }\n    setTotalDistributedOPT((totalOPT / 1e6).toFixed(3));\n    setOddsOfWinning((userASAHolding / totalDistributedOPT).toFixed(5));\n    setOPTLoader(false);\n  }\n  function checkDepositValid() {\n    if (props.selected_network && props.admin_addr) {\n      readAppGlobalState(props.admin_addr, OptAppID(props.selected_network), props.selected_network).then(res => {\n        let appGlobalState = res;\n        const registration_end = appGlobalState.get(GlobalStateKeys.REGISTRATION_END);\n        const reward_distribution = appGlobalState.get(GlobalStateKeys.REWARD_DISTRIBUTION);\n        if (registration_end && reward_distribution) {\n          const range = reward_distribution <= convertDateToSeconds(new Date()) && convertDateToSeconds(new Date()) <= registration_end;\n          setDepositValid(range);\n        } else {\n          // timelines are not set yet\n          setDepositValid(false);\n        }\n      });\n    }\n  }\n  const LotteryDataModal = () => {\n    return /*#__PURE__*/_jsxDEV(Dialog, {\n      onClose: () => setLotterModal(false),\n      open: isLotteryModalActive,\n      children: /*#__PURE__*/_jsxDEV(LotteryTable, {\n        screen: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this);\n  };\n  async function getWeeklyLotteryAmt() {\n    setLotteryLoader(true);\n    const rewardAmt = await getRewardAmt(props.selected_network, props.admin_addr);\n    if (!rewardAmt) {\n      setLotteryAmt(0);\n    } else setLotteryAmt((parseFloat(rewardAmt * 0.9) / 1e6).toFixed(6));\n    setLotteryLoader(false);\n  }\n  const Loader = () => {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        fontSize: '1.5rem'\n      },\n      children: [\"Calculating...\", '  ', /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 20,\n        style: {\n          color: Color.DARK_YELLOW\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this);\n  };\n  const [isMob, setIsMob] = useState(false);\n  useEffect(() => {\n    setIsMob(window.innerWidth < 768);\n    const handleResize = () => {\n      setIsMob(window.innerWidth < 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"relative min-h-[100vh] overflow-hidden\",\n    children: [showFormModal && /*#__PURE__*/_jsxDEV(WithDraw, {\n      closeModal: state => setShowFormModal(state),\n      type: formType,\n      displayFlexDirection: formType === ButtonTypes.WITHDRAW ? 'column-reverse' : 'column',\n      order: formType === ButtonTypes.WITHDRAW ? -1 : 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"heroOverlayLeft absolute top-0 h-full  left-0 w-[120px] z-[3] \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"heroOverlayRight absolute top-0 h-full  right-0 w-[120px] z-[3] \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"heroOverlayBottom1 absolute bottom-0 left-0 w-full h-[280.21px] z-[4]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"heroOverlayBottom2 absolute bottom-[-122px]  w-full h-[363.14px] z-[5]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"heroOverlayTop absolute top-0 left-0 w-full h-[262.12px] z-[5]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: isMob ? mobBg : chairImg,\n      alt: \"Chair Image\",\n      className: \"absolute md:w-[72.109375vw]  top-[110px] md:top-0 left-0 mix-blend-lighten\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(ServicesHero, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content md:w-[27.8125vw] top-[116.12px] h-[840px] md:h-[61vw]  left-[50%] transform translate-x-[-50%] md:translate-x-[0]   md:left-[65.703125vw] relative md:top-[10.56875vw] z-[7]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col   items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"colus inline-block tracking-[17.43px] text-[10px] leading-[12px] md:text-[0.73828125vw]  md:leading-[0.8859375vw] text-[#F5F5F5] md:tracking-[1.41796875vw]   font-[400]\",\n          children: \"WELCOME TO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"md:text-[4.830296875vw] colus text-[#EDDB0F] md:leading-[5.79609375vw] text-[65.39px] leading-[78px] mt-[-2px] md:mt-[-4px]\",\n          children: \"Optimum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          class: \"md:text-[1.5546875vw] md:leading-[1.865625vw] colus leading-[31px] text-[26.2381px] font-[400] text-[#FFFFFF] mt-[-2px] md:mt-[-4px]\",\n          children: \"NEW ERA OF STAKING\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-[43.65px] md:mb-[1.875vw] md:mt-[2.58515625vw] relative mb-[32px]\\r flex-col gap-y-[13px]  md:gap-y-[1.015625vw] items-center\\r \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-[320px] h-[101px] rounded-[24px] md:w-[25vw] md:h-[7.890625vw]   myTab2 md:rounded-[2.12vw] flex flex-col justify-center items-center text-[#FFFFFF]`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"myOverlay2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"myTabOverlays\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overlay2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overlay1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"colus z-[5] text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw]  z-[2]\",\n            children: \"OPT BALANCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"colus z-[5] text-[30.93px] leading-[37.11px]  md:text-[2.41640625vw] md:leading-[2.89921875vw]  z-[2]\",\n            children: opLoader ? userASAHolding : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-[320px] h-[101px] rounded-[24px] md:w-[25vw] md:h-[7.890625vw]   myTab md:rounded-[2.12vw] flex flex-col justify-center items-center rightTab text-[#FFFFFF]`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tabOverlay1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tabOverlay2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"colus text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw]  z-[2]\",\n            children: \"ODDS OF WINNINGS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"colus text-[30.93px] leading-[37.11px]  md:text-[2.41640625vw] md:leading-[2.89921875vw]  z-[2]\",\n            children: OdssOfWinning\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full md:w-[27.8125vw]   relative h-[74px] md:h-[5.78125vw]  flex items-cetner justify-center gap-x-[60px] md:gap-x-[4.6875vw] `,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"w-[1px] h-[52px] md:h-[4.0625vw] absolute top-[12px] md:top-[0.9375vw] border-l-[1px] border-  dotted border-[#99939C]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dottedBorder,\n          alt: \"DottedBorder\",\n          className: \"w-full object-cover   absolute top-0 left-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dottedBorder,\n          alt: \"DottedBorder\",\n          className: \"w-full   object-cover absolute bottom-0 left-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center  gap-x-[20px] md:gap-x-[1.5625vw] text-[#FFFFFF]\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"md:w-[1.89375vw] md:h-[1.25vw] w-[24.24px] h-[16px] bg-[#FF005C] clipPath2 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => openForm(ButtonTypes.DEPOSIT),\n            className: \"font-[700] cursor-pointer text-[18px] md:text-[1.40625vw] leading-[27px] md:leading-[2.109375vw]\",\n            children: \"Deposit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-x-[12px]  md:gap-x-[0.9375vw] text-[#FFFFFF]\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"md:w-[1.89375vw] md:h-[1.25vw] w-[24.24px] h-[16px] bg-[#EDDB0F] clipPath2 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-[700] text-[18px] md:text-[1.40625vw] leading-[27px] md:leading-[2.109375vw] cursor-pointer\",\n            onClick: () => openForm(ButtonTypes.WITHDRAW),\n            children: \"Withdraw\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center gap-y-[4px] mt-[32px] md:mt-[1.875vw] z-[5] relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"colus text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw] text-[#EDDB0F]\",\n          children: \"Next drawing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"colus text-[20px] leading-[24px] md:text-[2.34375vw] md:leading-[2.890625vw] text-[#FFFFFF]\",\n          children: [timeRemaining.days, \" Days : \", timeRemaining.hours, \" hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"colus text-[20px] leading-[24px] md:text-[1.328125vw] md:leading-[1.5625vw] text-[#FFFFFF] mt-[3px]\",\n          children: [timeRemaining.minutes, \" min : \", timeRemaining.seconds, \" sec\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 1\n  }, this);\n};\n_s(Home_Logged, \"/JxMpFFLKnKZoGwa2ruSeRuGaxI=\", false, function () {\n  return [useNavigate];\n});\n_c = Home_Logged;\nconst mapStateToProps = state => {\n  return {\n    selected: state.wallet.selected,\n    address: state.wallet.address,\n    account_store: state.wallet.account_store,\n    is_admin_logged: state.wallet.is_admin_logged,\n    selected_network: state.wallet.selected_network,\n    admin_addr: state.wallet.admin_addr,\n    success: state.feedback.success\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateAccountStore: payload => dispatch(updateAccountStore(payload)),\n    changeWallet: payload => dispatch(changeWallet(payload)),\n    updateAddress: payload => dispatch(updateAddress(payload))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home_Logged);\nvar _c;\n$RefreshReg$(_c, \"Home_Logged\");","map":{"version":3,"names":["React","useEffect","useState","ServicesHero","depositFunc","chairImg","mobBg","connect","changeWallet","updateAddress","updateAccountStore","Button","CircularProgress","Dialog","WithDraw","ButtonTypes","GlobalStateKeys","ImageSrc","Routes","Color","useNavigate","convertDateToSeconds","LotteryTable","getRewardAmt","readAppGlobalState","localOPTBalances","getAssetHolding","OptAppID","OptAsaID","Home_Logged","props","showFormModal","setShowFormModal","formType","setFormType","isAdminLogged","setAdminLog","is_admin_logged","navigate","isDepositValid","setDepositValid","isLotteryModalActive","setLotterModal","lotteryAmt","setLotteryAmt","totalDistributedOPT","setTotalDistributedOPT","undefined","lotteryloader","setLotteryLoader","optLoader","setOPTLoader","opLoader","setOPLoader","optAmount","setOPTAmount","OdssOfWinning","setOddsOfWinning","userASAHolding","setUserASAHolding","checkDepositValid","account_store","length","AccountOPT","address","selected_network","timeRemaining","setTimeRemaining","days","hours","minutes","seconds","intervalId","setInterval","currentDate","Date","targetDate","setDate","getDate","getDay","setHours","diff","d","Math","floor","h","m","s","clearInterval","getOPTBalanceOfUser","getWeeklyLotteryAmt","success","openForm","type","setShowWalletModal","amount","balance","amt","isNaN","fetchTotalDistributedOPT","localOptBalances","totalOPT","v","Object","values","toFixed","admin_addr","then","res","appGlobalState","registration_end","get","REGISTRATION_END","reward_distribution","REWARD_DISTRIBUTION","range","LotteryDataModal","rewardAmt","parseFloat","Loader","fontSize","color","DARK_YELLOW","isMob","setIsMob","window","innerWidth","handleResize","addEventListener","removeEventListener","state","WITHDRAW","dottedBorder","DEPOSIT","mapStateToProps","selected","wallet","feedback","mapDispatchToProps","dispatch","payload"],"sources":["C:/Users/user/Desktop/Optimum-Staking-main/Optimum-Staking-main/frontend/src/pages/Home_Logged.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport ServicesHero from '../components/heroes/ServicesHero'\r\nimport depositFunc from '../api/deposit'\r\nimport chairImg from '../assets/images/indivual/chair.jpg'\r\nimport mobBg from '../assets/images/indivual/mobBg.jpg'\r\nimport dottedBorder from '../assets/images/sevices/dottedBorder.svg'\r\nimport { connect } from 'react-redux';\r\nimport { changeWallet, updateAddress, updateAccountStore } from '../redux/wallet/actions';\r\nimport { Button, CircularProgress, Dialog } from '@mui/material';\r\n\r\nimport WithDraw from '../components/modal/WithDraw'\r\nimport {\r\n    ButtonTypes,\r\n    GlobalStateKeys,\r\n    ImageSrc,\r\n    Routes,\r\n    Color\r\n} from '../constants/constants';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { convertDateToSeconds } from '../constants/date';\r\n\r\nimport LotteryTable from '../components/LotteryTable';\r\nimport { getRewardAmt } from '../utils/dispense_lottery';\r\nimport { readAppGlobalState, localOPTBalances, getAssetHolding, OptAppID, OptAsaID } from '../utils/common';\r\n    \r\n \r\n\r\nconst Home_Logged = (props) => {\r\n    const [showFormModal, setShowFormModal] = useState(false);\r\n    const [formType, setFormType] = useState('');\r\n    const [isAdminLogged, setAdminLog] = useState(props.is_admin_logged);\r\n    const navigate = useNavigate();\r\n    const [isDepositValid, setDepositValid] = useState(true);\r\n    const [isLotteryModalActive, setLotterModal] = useState(false);\r\n    const [lotteryAmt, setLotteryAmt] = useState(0);\r\n    const [totalDistributedOPT, setTotalDistributedOPT] = useState(undefined);\r\n    const [lotteryloader, setLotteryLoader] = useState(false);\r\n    const [optLoader, setOPTLoader] = useState(false);\r\n    const [opLoader, setOPLoader] = useState(false);\r\n    const [optAmount, setOPTAmount] = useState(0);\r\n    const [OdssOfWinning, setOddsOfWinning] = useState(0);\r\n    const [userASAHolding, setUserASAHolding] = useState(0);\r\n\r\n    useEffect(() => {\r\n\r\n        setAdminLog(props.is_admin_logged);\r\n        checkDepositValid();\r\n        if (props.account_store.length !== 0) {\r\n            AccountOPT()\r\n        }\r\n    }, [props.address, props.is_admin_logged, props.selected_network]);\r\n    const [timeRemaining, setTimeRemaining] = useState({\r\n        days: 0,\r\n        hours: 0,\r\n        minutes: 0,\r\n        seconds: 0,\r\n      });\r\n    \r\n      useEffect(() => {\r\n        const intervalId = setInterval(() => {\r\n          const currentDate = new Date();\r\n          const targetDate = new Date();\r\n          targetDate.setDate(targetDate.getDate() + (7 - targetDate.getDay()));\r\n          targetDate.setHours(22, 0, 0, 0);\r\n    \r\n          if (currentDate > targetDate) {\r\n            targetDate.setDate(targetDate.getDate() + 7);\r\n          }\r\n    \r\n          const diff = targetDate - currentDate;\r\n          const d = Math.floor(diff / 1000 / 60 / 60 / 24);\r\n          const h = Math.floor(diff / 1000 / 60 / 60) % 24;\r\n          const m = Math.floor(diff / 1000 / 60) % 60;\r\n          const s = Math.floor(diff / 1000) % 60;\r\n    \r\n          setTimeRemaining({\r\n            days: d,\r\n            hours: h,\r\n            minutes: m,\r\n            seconds: s,\r\n          });\r\n        }, 1000);\r\n    \r\n        return () => clearInterval(intervalId);\r\n      }, []);\r\n    useEffect(() => {\r\n        getOPTBalanceOfUser()\r\n    }, [])\r\n        useEffect(() => {\r\n        if (props.selected_network) {\r\n            getOPTBalanceOfUser()\r\n\r\n            getWeeklyLotteryAmt();\r\n        }\r\n       \r\n    }, [props.success, props.selected_network]); // update if OPT/algo is withrawn/deposited\r\n\r\n    const openForm = (type) => {\r\n        \r\n        if (props.address) {\r\n            setShowFormModal(true);\r\n            setFormType(type);\r\n        } else props.setShowWalletModal(true);\r\n    };\r\n    // note: this doesn't track the \"reward opt\" distributed to users\r\n    async function AccountOPT () {\r\n        // setOPLoader(true);\r\n\r\n        setOPTAmount(props.account_store[0].amount)\r\n        setOPLoader(true);\r\n    }\r\n\r\n    async function getOPTBalanceOfUser() {\r\n        \r\n        const balance = await getAssetHolding(\r\n            props.address,\r\n            OptAsaID(props.selected_network),\r\n            props.selected_network\r\n            );\r\n        \r\n        const amt = balance?.amount / 1e6;\r\n        if (isNaN(amt)) {\r\n            setUserASAHolding(0);\r\n        } else setUserASAHolding(amt ?? 0);\r\n        fetchTotalDistributedOPT()\r\n    }\r\n\r\n    async function fetchTotalDistributedOPT() {\r\n        setOPTLoader(true);\r\n        const localOptBalances = await localOPTBalances(props.selected_network);\r\n        let totalOPT = 0.0;\r\n        for (const v of Object.values(localOptBalances)) {\r\n            totalOPT += v;\r\n        }\r\n        setTotalDistributedOPT((totalOPT / 1e6).toFixed(3));\r\n        setOddsOfWinning((userASAHolding / totalDistributedOPT).toFixed(5))\r\n        setOPTLoader(false);\r\n    }\r\n\r\n    function checkDepositValid() {\r\n        if (props.selected_network && props.admin_addr) {\r\n            readAppGlobalState(\r\n                props.admin_addr,\r\n                OptAppID(props.selected_network),\r\n                props.selected_network\r\n            ).then((res) => {\r\n                let appGlobalState = res;\r\n                const registration_end = appGlobalState.get(\r\n                    GlobalStateKeys.REGISTRATION_END\r\n                );\r\n                const reward_distribution = appGlobalState.get(\r\n                    GlobalStateKeys.REWARD_DISTRIBUTION\r\n                );\r\n                if (registration_end && reward_distribution) {\r\n                    const range =\r\n                        reward_distribution <=\r\n                            convertDateToSeconds(new Date()) &&\r\n                        convertDateToSeconds(new Date()) <= registration_end;\r\n                    setDepositValid(range);\r\n                } else {\r\n                    // timelines are not set yet\r\n                    setDepositValid(false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const LotteryDataModal = () => {\r\n        return (\r\n            <Dialog\r\n                onClose={() => setLotterModal(false)}\r\n                open={isLotteryModalActive}\r\n            >\r\n                <LotteryTable screen=\"Home\" />\r\n            </Dialog>\r\n        );\r\n    };\r\n\r\n    async function getWeeklyLotteryAmt() {\r\n        setLotteryLoader(true);\r\n        const rewardAmt = await getRewardAmt(\r\n            props.selected_network,\r\n            props.admin_addr\r\n        );\r\n        if (!rewardAmt) {\r\n            setLotteryAmt(0);\r\n        } else setLotteryAmt((parseFloat(rewardAmt * 0.9) / 1e6).toFixed(6));\r\n        setLotteryLoader(false);\r\n    }\r\n\r\n    const Loader = () => {\r\n        return (\r\n            <span\r\n                style={{\r\n                    fontSize: '1.5rem'\r\n                }}\r\n            >\r\n                Calculating...{'  '}\r\n                <CircularProgress\r\n                    size={20}\r\n                    style={{ color: Color.DARK_YELLOW }}\r\n                />\r\n            </span>\r\n        );\r\n    };\r\n\r\n    const [isMob,setIsMob] = useState(false)\r\n    useEffect(()=>{\r\n        setIsMob(window.innerWidth < 768)\r\n        const handleResize =()=>{\r\n        setIsMob(window.innerWidth < 768)\r\n\r\n        }\r\n        window.addEventListener('resize',handleResize)\r\n        return ()=> window.removeEventListener('resize',handleResize)\r\n    },[])\r\n  return (\r\n   \r\n\r\n<section className='relative min-h-[100vh] overflow-hidden'>\r\n{showFormModal && (\r\n        <WithDraw\r\n            closeModal={(state) => setShowFormModal(state)}\r\n            type={formType}\r\n            displayFlexDirection={\r\n                formType === ButtonTypes.WITHDRAW\r\n                    ? 'column-reverse'\r\n                    : 'column'\r\n            }\r\n            order={formType === ButtonTypes.WITHDRAW ? -1 : 1}\r\n        />\r\n)}\r\n           <span className='heroOverlayLeft absolute top-0 h-full  left-0 w-[120px] z-[3] '>\r\n\r\n</span>\r\n           <span className='heroOverlayRight absolute top-0 h-full  right-0 w-[120px] z-[3] '>\r\n\r\n</span>\r\n\r\n\r\n<span className='heroOverlayBottom1 absolute bottom-0 left-0 w-full h-[280.21px] z-[4]'>\r\n\r\n</span>\r\n<span className='heroOverlayBottom2 absolute bottom-[-122px]  w-full h-[363.14px] z-[5]'>\r\n\r\n</span>\r\n\r\n<span className='heroOverlayTop absolute top-0 left-0 w-full h-[262.12px] z-[5]'>\r\n\r\n</span>\r\n<img src={isMob?mobBg:chairImg} alt=\"Chair Image\" className='absolute md:w-[72.109375vw]  top-[110px] md:top-0 left-0 mix-blend-lighten' />\r\n        <ServicesHero/>\r\n        <div className='content md:w-[27.8125vw] top-[116.12px] h-[840px] md:h-[61vw]  left-[50%] transform translate-x-[-50%] md:translate-x-[0]   md:left-[65.703125vw] relative md:top-[10.56875vw] z-[7]'>\r\n        <div className='flex flex-col   items-center'>\r\n        <span class=\"colus inline-block tracking-[17.43px] text-[10px] leading-[12px] md:text-[0.73828125vw]  md:leading-[0.8859375vw] text-[#F5F5F5] md:tracking-[1.41796875vw]   font-[400]\">WELCOME TO</span>\r\n        <h1 class=\"md:text-[4.830296875vw] colus text-[#EDDB0F] md:leading-[5.79609375vw] text-[65.39px] leading-[78px] mt-[-2px] md:mt-[-4px]\">Optimum</h1>\r\n        <h4 class=\"md:text-[1.5546875vw] md:leading-[1.865625vw] colus leading-[31px] text-[26.2381px] font-[400] text-[#FFFFFF] mt-[-2px] md:mt-[-4px]\">NEW ERA OF STAKING</h4>\r\n       </div>\r\n\r\n        \r\n\r\n        <div className='flex justify-between mt-[43.65px] md:mb-[1.875vw] md:mt-[2.58515625vw] relative mb-[32px]\r\n             flex-col gap-y-[13px]  md:gap-y-[1.015625vw] items-center\r\n              '>\r\n\r\n\r\n\r\n<div className={`w-[320px] h-[101px] rounded-[24px] md:w-[25vw] md:h-[7.890625vw]   myTab2 md:rounded-[2.12vw] flex flex-col justify-center items-center text-[#FFFFFF]`}>\r\n<div className=\"myOverlay2\">\r\n        \r\n        </div>\r\n   <div className='myTabOverlays'>\r\n    <div className=\"overlay2\"></div>\r\n    <div className=\"overlay1\"></div>\r\n    </div>\r\n   \r\n        <span className='colus z-[5] text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw]  z-[2]'>\r\n        OPT BALANCE\r\n        </span>\r\n        <span className='colus z-[5] text-[30.93px] leading-[37.11px]  md:text-[2.41640625vw] md:leading-[2.89921875vw]  z-[2]'>\r\n        {opLoader ? userASAHolding : <Loader />}\r\n        </span>\r\n    </div>\r\n        <div className={`w-[320px] h-[101px] rounded-[24px] md:w-[25vw] md:h-[7.890625vw]   myTab md:rounded-[2.12vw] flex flex-col justify-center items-center rightTab text-[#FFFFFF]`}>\r\n    <span className='tabOverlay1'></span>\r\n    <span className='tabOverlay2'></span>\r\n        <span className='colus text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw]  z-[2]'>\r\n        ODDS OF WINNINGS\r\n        </span>\r\n        <span className='colus text-[30.93px] leading-[37.11px]  md:text-[2.41640625vw] md:leading-[2.89921875vw]  z-[2]'>\r\n       {OdssOfWinning}\r\n        </span>\r\n    </div>\r\n\r\n </div>\r\n\r\n\r\n <div className={`w-full md:w-[27.8125vw]   relative h-[74px] md:h-[5.78125vw]  flex items-cetner justify-center gap-x-[60px] md:gap-x-[4.6875vw] `}>\r\n    <span className='w-[1px] h-[52px] md:h-[4.0625vw] absolute top-[12px] md:top-[0.9375vw] border-l-[1px] border-  dotted border-[#99939C]'></span>\r\n    <img src={dottedBorder} alt=\"DottedBorder\" className='w-full object-cover   absolute top-0 left-0'/>\r\n    <img src={dottedBorder} alt=\"DottedBorder\" className='w-full   object-cover absolute bottom-0 left-0'/>\r\n    <div className='flex items-center  gap-x-[20px] md:gap-x-[1.5625vw] text-[#FFFFFF]'>\r\n        <span className='md:w-[1.89375vw] md:h-[1.25vw] w-[24.24px] h-[16px] bg-[#FF005C] clipPath2 '></span>\r\n        <span onClick={() =>\r\n                                      openForm(ButtonTypes.DEPOSIT)} className='font-[700] cursor-pointer text-[18px] md:text-[1.40625vw] leading-[27px] md:leading-[2.109375vw]'>Deposit</span>\r\n    </div>\r\n    <div className='flex items-center gap-x-[12px]  md:gap-x-[0.9375vw] text-[#FFFFFF]'>\r\n        <span className='md:w-[1.89375vw] md:h-[1.25vw] w-[24.24px] h-[16px] bg-[#EDDB0F] clipPath2 '></span>\r\n        <span className='font-[700] text-[18px] md:text-[1.40625vw] leading-[27px] md:leading-[2.109375vw] cursor-pointer' onClick={() => openForm(ButtonTypes.WITHDRAW)}>Withdraw</span>\r\n    </div>\r\n</div>\r\n       \r\n\r\n    <div className='flex flex-col items-center gap-y-[4px] mt-[32px] md:mt-[1.875vw] z-[5] relative'>\r\n      <span className='colus text-[20px] leading-[24px] md:text-[1.5625vw] md:leading-[1.875vw] text-[#EDDB0F]'>Next drawing</span>\r\n      <span className='colus text-[20px] leading-[24px] md:text-[2.34375vw] md:leading-[2.890625vw] text-[#FFFFFF]'>{timeRemaining.days} Days : {timeRemaining.hours} hours</span>\r\n      <span className='colus text-[20px] leading-[24px] md:text-[1.328125vw] md:leading-[1.5625vw] text-[#FFFFFF] mt-[3px]'>{timeRemaining.minutes} min : {timeRemaining.seconds} sec</span>\r\n    </div>\r\n\r\n\r\n        </div>\r\n\r\n\r\n    </section>\r\n \r\n\r\n  )\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selected: state.wallet.selected,\r\n        address: state.wallet.address,\r\n        account_store: state.wallet.account_store,\r\n        is_admin_logged: state.wallet.is_admin_logged,\r\n        selected_network: state.wallet.selected_network,\r\n        admin_addr: state.wallet.admin_addr,\r\n        success: state.feedback.success\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateAccountStore: (payload) => dispatch(updateAccountStore(payload)),\r\n        changeWallet: (payload) => dispatch(changeWallet(payload)),\r\n        updateAddress: (payload) => dispatch(updateAddress(payload))\r\n    };\r\n};\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home_Logged);"],"mappings":"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"},"metadata":{},"sourceType":"module"}