{"ast":null,"code":"import * as vlq from 'vlq';\nexport class SourceMap {\n  constructor(_ref) {\n    let {\n      version,\n      sources,\n      names,\n      mappings\n    } = _ref;\n    this.version = version;\n    this.sources = sources;\n    this.names = names;\n    this.mappings = mappings;\n    if (this.version !== 3) throw new Error(`Only version 3 is supported, got ${this.version}`);\n    if (this.mappings === undefined) throw new Error('mapping undefined, cannot build source map without `mapping`');\n    const pcList = this.mappings.split(';').map(m => {\n      const decoded = vlq.decode(m);\n      if (decoded.length > 2) return decoded[2];\n      return undefined;\n    });\n    this.pcToLine = {};\n    this.lineToPc = {};\n    let lastLine = 0;\n    for (const [pc, lineDelta] of pcList.entries()) {\n      // If the delta is not undefined, the lastLine should be updated with\n      // lastLine + the delta\n      if (lineDelta !== undefined) {\n        lastLine += lineDelta;\n      }\n      if (!(lastLine in this.lineToPc)) this.lineToPc[lastLine] = [];\n      this.lineToPc[lastLine].push(pc);\n      this.pcToLine[pc] = lastLine;\n    }\n  }\n  getLineForPc(pc) {\n    return this.pcToLine[pc];\n  }\n  getPcsForLine(line) {\n    return this.lineToPc[line];\n  }\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,KAAK;AAE1B,OAAM,MAAOC,SAAS;EASpBC,kBAUC;IAAA,IAVW;MACVC,OAAO;MACPC,OAAO;MACPC,KAAK;MACLC;IAAQ,CAMT;IACC,IAAI,CAACH,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IAExB,IAAI,IAAI,CAACH,OAAO,KAAK,CAAC,EACpB,MAAM,IAAII,KAAK,CAAC,oCAAoC,IAAI,CAACJ,OAAO,EAAE,CAAC;IAErE,IAAI,IAAI,CAACG,QAAQ,KAAKE,SAAS,EAC7B,MAAM,IAAID,KAAK,CACb,8DAA8D,CAC/D;IAEH,MAAME,MAAM,GAAG,IAAI,CAACH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAEC,CAAC,IAAI;MAChD,MAAMC,OAAO,GAAGb,GAAG,CAACc,MAAM,CAACF,CAAC,CAAC;MAC7B,IAAIC,OAAO,CAACE,MAAM,GAAG,CAAC,EAAE,OAAOF,OAAO,CAAC,CAAC,CAAC;MACzC,OAAOL,SAAS;IAClB,CAAC,CAAC;IAEF,IAAI,CAACQ,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAElB,IAAIC,QAAQ,GAAG,CAAC;IAChB,KAAK,MAAM,CAACC,EAAE,EAAEC,SAAS,CAAC,IAAIX,MAAM,CAACY,OAAO,EAAE,EAAE;MAC9C;MACA;MACA,IAAID,SAAS,KAAKZ,SAAS,EAAE;QAC3BU,QAAQ,IAAIE,SAAS;;MAGvB,IAAI,EAAEF,QAAQ,IAAI,IAAI,CAACD,QAAQ,CAAC,EAAE,IAAI,CAACA,QAAQ,CAACC,QAAQ,CAAC,GAAG,EAAE;MAE9D,IAAI,CAACD,QAAQ,CAACC,QAAQ,CAAC,CAACI,IAAI,CAACH,EAAE,CAAC;MAChC,IAAI,CAACH,QAAQ,CAACG,EAAE,CAAC,GAAGD,QAAQ;;EAEhC;EAEAK,YAAY,CAACJ,EAAU;IACrB,OAAO,IAAI,CAACH,QAAQ,CAACG,EAAE,CAAC;EAC1B;EAEAK,aAAa,CAACC,IAAY;IACxB,OAAO,IAAI,CAACR,QAAQ,CAACQ,IAAI,CAAC;EAC5B","names":["vlq","SourceMap","constructor","version","sources","names","mappings","Error","undefined","pcList","split","map","m","decoded","decode","length","pcToLine","lineToPc","lastLine","pc","lineDelta","entries","push","getLineForPc","getPcsForLine","line"],"sourceRoot":"","sources":["../../../src/logic/sourcemap.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}